common:
  output_directory: .

steps:

- type: remove_duplicates
  parameters:
    inputs:
    - train.gf.src
    - train.gf.trg
    outputs:
    - train.dedup.gf.src
    - train.dedup.gf.trg

- type: remove_duplicates
  parameters:
    inputs:
    - train.ngf.src
    - train.ngf.trg
    outputs:
    - train.dedup.ngf.src
    - train.dedup.ngf.trg

- type: filter
  parameters:
    inputs:
    - train.dedup.gf.src
    - train.dedup.gf.trg
    outputs:
    - train.filtered.gf.src
    - train.filtered.gf.trg
    filterfalse: False
    filters: &filterStandard
    - LengthFilter:
        unit: word
        min_length: 1
        max_length: 150

    - LongWordFilter:
        threshold: 40

    - AlphabetRatioFilter:
        threshold: 0.5

    - LanguageIDFilter:
        languages:
        - de
        - de
        thresholds:
        - 0.0
        - 0.0
        id_method: fasttext
        fasttext_model_path: /mnt/data/fior/fasttext.lid.176.bin

- type: filter
  parameters:
    inputs:
    - train.dedup.ngf.src
    - train.dedup.ngf.trg
    outputs:
    - train.filtered.ngf.src
    - train.filtered.ngf.trg
    filterfalse: False
    filters: *filterStandard
